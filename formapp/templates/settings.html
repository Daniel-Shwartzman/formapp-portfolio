{% extends "base.html" %}
{% from 'bootstrap5/utils.html' import render_messages %}
{% from 'bootstrap5/form.html' import render_field %}
{% block title %}Settings - IDF - Forms{% endblock %}

{% block body %}
<main>
  <div class="background"></div>
  <div class="container">
    <div class="center-container">
      <div class="form">
        <div class="logo-container">
          <img class="w-100 me-2" src="{{ url_for('static', filename='images/logo.png') }}" alt="">
        </div>
        <hr> <!-- Added a horizontal line below the header -->
        <h2 class="card-title text-center">Settings - IDF Forms</h2>
        <hr> <!-- Added a horizontal line below the title -->

        {% for message in get_flashed_messages() %}
          <div class="alert alert-dismissible fade show" role="alert">
            {{ render_messages() }}
          </div>
        {% endfor %}

        <form action="{{ url_for('formapp.settings') }}" method="post">
          {{ form.csrf_token() }}
          
          <div class="mb-3">
            <div class="input-group">
              <span class="input-group-addon">
                <i class="fa fa-lock"></i>
              </span>
              {{ render_field(form.old_password, class="form-control", placeholder="Enter your old password", autofocus="true") }}
            </div>
          </div>
          
          <div class="mb-3">
            <div class="input-group">
              <span class="input-group-addon">
                <i class="fa fa-lock"></i>
              </span>
              {{ render_field(form.new_password, class="form-control", placeholder="Enter your new password") }}
            </div>
          </div>
          
          <div class="mb-3">
            <div class="input-group">
              <span class="input-group-addon">
                <i class="fa fa-lock"></i>
              </span>
              {{ render_field(form.confirm_password, class="form-control", placeholder="Confirm your new password") }}
            </div>
          </div>
          
          {{ render_field(form.submit, class="button") }}
        </form>
        
        <hr> <!-- Added a horizontal line below the submit button -->
        
        <p class="text-center">
          <a href="{{ url_for('formapp.index') }}" class="text-decoration-none">Back to Dashboard</a>
        </p>
      </div>
    </div>
  </div>
  <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</main>
{% endblock %}
